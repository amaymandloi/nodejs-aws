{"ast":null,"code":"import Vue from \"vue\";\nimport axios from \"axios\";\nimport VueAxios from \"vue-axios\";\nimport cors from \"cors\";\nVue.use(cors);\nVue.use(VueAxios, axios);\nconst baseURL = \"https://4mk8x0utn3.execute-api.us-east-1.amazonaws.com/test/usr_register\";\nexport default {\n  name: \"SignIn\",\n  data() {\n    return {\n      form: {\n        password: null,\n        email: null\n      },\n      errorMessages: [],\n      emptyFieldErrorMessage: \"No field should be empty\",\n      usernameErrorMessage: \"Username is incorrect\",\n      emailErrorMessage: \"Email is incorrect\",\n      passwordErrorMessage: \"Password is incorrect\",\n      token: []\n    };\n  },\n  methods: {\n    fortmatResponse(res) {\n      return JSON.stringify(res, null, 2);\n    },\n    async validateFields(e) {\n      this.errorMessages = [];\n      e.preventDefault();\n      if (!this.form.email || !this.form.password) {\n        this.errorMessages.push(this.emptyFieldErrorMessage);\n      }\n      //Fetch data to validate user\n\n      const res = await fetch(`${baseURL}/${this.form.email}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      //  const res = await fetch(\"http://localhost:4000/login\",{method:\"POST\"})\n\n      if (!res.ok) {\n        const message = `An error has occured: ${res.status} - ${res.statusText}`;\n        throw new Error(message);\n      }\n      const data1 = await res.json();\n      const arr = [];\n      data1.Items.map(element => arr.push(element));\n      console.log(\"USR ARR\" + arr[0].username);\n      const result = {\n        data: data1,\n        status: res.status,\n        statusText: res.statusText,\n        headers: {\n          \"Content-Type\": res.headers.get(\"Content-Type\"),\n          \"Content-Length\": res.headers.get(\"Content-Length\")\n        }\n      };\n\n      //.....\n\n      // const userObj = JSON.parse(localStorage.getItem('user'));\n\n      if (this.form.password !== arr[0].password) {\n        //console.log('password error!');\n\n        this.errorMessages.push(this.passwordErrorMessage);\n      }\n      if (this.form.email !== arr[0].email) {\n        //console.log('email error');\n        this.errorMessages.push(this.emailErrorMessage);\n      }\n      if (this.errorMessages.length == 0) {\n        alert(\"You  have successfully signed in. /n You will be redirected to Dashboard page.\");\n        //redirect to dashboard page\n\n        this.$router.push({\n          path: \"/dashboard\",\n          query: {\n            usrToken: this.token\n          }\n        });\n        // this.$router.push(`/dashboard/`);\n      }\n\n      e.preventDefault();\n    }\n  }\n};","map":{"version":3,"mappings":"AAqFA;AACA;AACA;AACA;AACAA;AACAA;AACA;AACA;EACAC;EACAC;IACA;MACAC;QAEAC;QACAC;MACA;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IAEA;MACA;MAEAC;MACA;QACA;MACA;MACA;;MAEA;QAAAC;QACAC;UACA;QAEA;MAEA;MACA;;MAEA;QACA;QACA;MACA;MAEA;MAEA;MACAC;MAEAC;MAGA;QACAhB;QACAiB;QACAC;QACAJ;UACA;UACA;QACA;MACA;;MAIA;;MAEA;;MAEA;QACA;;QAEA;MACA;MACA;QACA;QACA;MACA;MACA;QAGAK,MACA,iFACA;QACA;;QAGA;UAAAC;UAAAC;YAAAC;UAAA;QAAA;QACA;MAEA;;MAEAV;IACA;EACA;AACA","names":["Vue","name","data","form","password","email","errorMessages","emptyFieldErrorMessage","usernameErrorMessage","emailErrorMessage","passwordErrorMessage","token","methods","fortmatResponse","e","method","headers","data1","console","status","statusText","alert","path","query","usrToken"],"sourceRoot":"src/components","sources":["SignIn.vue"],"sourcesContent":["<template>\n    <v-app>\n    <v-main>\n      <v-card flat tile ma-0 pa-0>\n        <v-toolbar color=\"cyan\" >\n              <img src=\"@/assets/tcsion-banner.png\" height=\"100\" width=\"150\" />\n              <v-spacer></v-spacer>\n              <div class=\"items\">\n                <a id=\"phone_no\"> 1800 029 6030</a> |\n                <a id=\"red_text\"> SMS: 'TCSiON' to 16161</a> |\n                <a id=\"phone_no\"> Email US </a> |\n                <a id=\"phone_no\"> Visit Our Portal </a> |\n                <a id=\"phone_no\"> Help Central </a> |\n                <a id=\"phone_no\"> Language : </a>\n\n                <select name=\"English\">\n                  <option value=\"English\">English</option>\n                  <option value=\"Spanish\">Spanish</option>\n                  <option value=\"Japanese\">Japanese</option>\n                  <option value=\"Bahasa\">Bahasa</option>\n                  <option value=\"Portugese\">Portugese</option>\n                </select>\n              </div>\n        </v-toolbar>\n      </v-card>\n      <div class=\"header\">\n        <div class=\"title\">\n        <img\n          src=\"https://www.tcsion.com/dotcom/TCSSMB/Login/images/TATA-logo-left.png\"\n          alt=\"Tata Logo\"\n        />\n        </div>\n        <div class=\"title-img\">\n        <img\n          src=\"https://www.tcsion.com/dotcom/TCSSMB/Login/images/TATA-logo-right.png\"\n          alt=\"Tata Logo\"\n        />\n        </div>\n      </div>\n   <v-spacer></v-spacer>\n    <!-- content -->\n    <div class=\"right-content\">\n        <v-card height=\"500\" color=\"rgb(125, 125, 254)\">\n        <v-card-text >\n        <v-form id=\"form\" @submit=\"validateFields\" >\n          <p id=\"errorMessages\" v-if=\"errorMessages.length\">\n            <ul>\n              <li v-for=\"e in errorMessages\" v-bind:key=\"e.id\">{{ e }}</li>\n            </ul>\n            \n          </p>\n          <!-- <div><li>{{dataContent}}</li></div> -->\n          <v-card-title>Welcome To SignIn Page</v-card-title>\n         \n            <v-row cols=\"12\" sm=\"6\" md=\"3\"> \n          <v-text-field label=\"Email Id\" id=\"email\" v-model=\"form.email\"  placeholder=\"Email Id\"\n            solo /></v-row>\n          \n          <v-row cols=\"12\" sm=\"6\" md=\"3\"> \n          <v-text-field label=\"Password\" id=\"password\" type=\"password\" v-model=\"form.password\" \n            placeholder=\"Password\"\n            solo/></v-row>\n          <v-btn class=\"success mx-0 mt-3\" type=\"submit\" >SignIn</v-btn>\n        </v-form>\n        </v-card-text>\n        </v-card>\n    </div>\n    </v-main>\n    <div class=\"n-footer\">\n      <div class=\"footer-content\">\n        <span class=\"circle FB\"></span>\n        <span class=\"circle\"></span>\n        <span class=\"circle\"></span>\n        <span class=\"circle\"></span>\n        <span class=\"circle\"></span>\n      </div>\n      <div class=\"footer\">\n        <span> &copy; </span>\n        <span id=\"year1\"></span>\n        Tata Consultancy Services. All Rights Reserved.\n      </div>\n    </div>\n  </v-app>\n</template>\n<script>\nimport Vue from \"vue\";\nimport axios from \"axios\";\nimport VueAxios from \"vue-axios\";\nimport cors from \"cors\";\nVue.use(cors);\nVue.use(VueAxios, axios);\nconst baseURL = \"https://4mk8x0utn3.execute-api.us-east-1.amazonaws.com/test/usr_register\";\nexport default {\n  name: \"SignIn\",\n  data() {\n    return {\n      form: {\n        \n        password: null,\n        email: null,\n      },\n\n      errorMessages: [],\n      emptyFieldErrorMessage: \"No field should be empty\",\n      usernameErrorMessage: \"Username is incorrect\",\n      emailErrorMessage: \"Email is incorrect\",\n      passwordErrorMessage: \"Password is incorrect\",\n      token:[]\n    };\n  },\n  methods: {\n    fortmatResponse(res) {\n      return JSON.stringify(res, null, 2);\n    },\n\n    async validateFields(e) {\n      this.errorMessages = [];\n\n      e.preventDefault();\n      if (!this.form.email || !this.form.password) {\n        this.errorMessages.push(this.emptyFieldErrorMessage);\n      }\n      //Fetch data to validate user\n\n      const res = await fetch(`${baseURL}/${this.form.email}`,{method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n         \n        },\n     \n      });\n      //  const res = await fetch(\"http://localhost:4000/login\",{method:\"POST\"})\n\n      if (!res.ok) {\n        const message = `An error has occured: ${res.status} - ${res.statusText}`;\n        throw new Error(message);\n      }\n\n      const data1 = await res.json();\n\n       const arr=[]\n       data1.Items.map(element=>arr.push(element))\n       \n       console.log(\"USR ARR\"+arr[0].username)\n     \n\n      const result = {\n        data: data1,\n        status: res.status,\n        statusText: res.statusText,\n        headers: {\n          \"Content-Type\": res.headers.get(\"Content-Type\"),\n          \"Content-Length\": res.headers.get(\"Content-Length\"),\n        },\n      };\n\n     \n\n      //.....\n\n      // const userObj = JSON.parse(localStorage.getItem('user'));\n    \n      if (this.form.password !== arr[0].password) {\n        //console.log('password error!');\n\n        this.errorMessages.push(this.passwordErrorMessage);\n      }\n      if (this.form.email !== arr[0].email) {\n        //console.log('email error');\n        this.errorMessages.push(this.emailErrorMessage);\n      }\n      if (this.errorMessages.length == 0) {\n\n      \n        alert(\n          \"You  have successfully signed in. /n You will be redirected to Dashboard page.\"\n        );\n        //redirect to dashboard page\n     \n        \n        this.$router.push({path:\"/dashboard\", query:{usrToken:this.token}});\n          // this.$router.push(`/dashboard/`);\n\n      }\n\n      e.preventDefault();\n    },\n  },\n};\n</script>\n<style scoped>\n.right-content {\n  color: rgb(125, 125, 254);\n  display: block;\n  float: right;\n  margin-right: 30%;\n  margin-left: 60px;\n  margin-bottom: 0px;\n  padding: 10px 10px 600px 10px;\n  border-radius: 100px;\n  height: 100px;\n  width: 450px;\n}\n.n-footer {\n  background: #043254 none repeat scroll 0 0;\n  /* top:90%; */\n  bottom: 0;\n  position: fixed;\n  width: 100%;\n  text-align: center;\n  padding: 10px;\n  margin-top: 10px;\n}\n#year1 {\n  font-size: 1em;\n  vertical-align: 0px;\n}\n.footer-content {\n  display: inline-block;\n  float: right;\n  margin-right: 3%;\n  margin-left: 2px;\n}\n.circle {\n  background: #00aade none repeat scroll 0 0;\n  border-radius: 50%;\n  color: #ffffff;\n  display: inline-block;\n  font-size: 0.9em;\n  width: 23px;\n  height: 21px;\n  padding-top: 2px;\n}\n.footer {\n  color: #fff;\n  font-size: 0.8em;\n  font-weight: 600;\n  float: left;\n  margin-left: 3%;\n  line-height: 23px;\n}\n.items {\n  font-size: small;\n  float: right;\n  /* background-color: #00aade; */\n  margin-right: 0%;\n  margin-top: 25px;\n  border-bottom: #00aade;\n  border-width: 12px;\n}\n.right-content form a {\n  font-size: small;\n  float: right;\n  margin-right: 30px;\n  color: white;\n}\n.right-content form input {\n  width: 90%;\n  height: 20%;\n  padding: 10px 10px 10px 10px;\n  margin: 10px 10px 10px 10px;\n}\n.right-content form h1 {\n  font-size: xx-large;\n  font-weight: 600;\n}\n.right-content form .checkbx {\n  float: left;\n  font-size: small;\n}\n.right-content form {\n  padding-left: 25px;\n  padding-right: 25px;\n}\n.right-content form .btn1 {\n  position: absolute;\n  background-color: rgb(27, 192, 33);\n  color: white;\n  font-size: 16px;\n  padding: 10px 20px;\n  border: none;\n  box-shadow: #2d3540;\n  cursor: pointer;\n  border-radius: 0px;\n  align-items: center;\n}\n.right-content form .btn:hover {\n  background-color: rgba(27, 192, 33, 0.1);\n}\n.right-content form .checkbx {\n  width: 10px;\n}\n.right-content .banner {\n  background-color: white;\n  width: 100%;\n  height: 60px;\n}\n.n-footer .division {\n  background-color: white;\n  padding-top: 0 0 0 0;\n  text-align: center;\n  margin-top: 0%;\n  color: orange;\n  height: 60px;\n  width: 100%;\n  margin-top: 0px;\n}\n</style>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}